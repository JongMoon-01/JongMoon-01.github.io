---
title: "컴퓨터 네트워크 4주차"
date: 2024-09-18 02:23:00 +0900
categories: [컴퓨터 네트워크]
tags: [Network, V2X, Auto]
---

# 1. 네트워크 계층의 기능
- 네트워크
    - 라우팅
        - 라우팅 테이블 : 네트워크 구성 형태에 관한 정보 관리
        - 라우팅 : 송수신 호스트 사이의 패킷 전달 경로를 선택하는 과정
    - 혼잡 제어
        - 혼잡 : 네트워크 패킷 수가 과도하게 증가되는 현상
        - 혼잡 제어 : 혼잡의 발생을 예방하거나 제거하는 기능
    - 패킷의 분할과 병합
        - 상위 전송 계층에서 송신을 요구한 데이터는 최종적으로 MAC 계층의 프레임구조에 정의된 형식으로 캡슐화 되어 물리 전송
        - 패킷 분할 : 데이터 여러 패킷으로 나누는 과정
        - 패킷 병합 : 목적지에서 분할된 패킷 다시 모으는 과정

경로 테이블 이미지

- 연결형 서비스와 비연결형 서비스
    - 연결형 : 데이터 전송전 데이터 전송 경로 결정
    - 비연결형 : 데이터 전송 경로를 사전에 결정 X 패킷단위로 결정

연결형 비연결형 이미지

## 1.1. 비연결형 서비스
- 패킷의 전달 순서
    - 패킷이 서로 다른경로로 전송, 도착 순서 일정X
    - 상위 계층(목적지)에서 순서 재조정
- 패킷 분실 가능성
    - 패킷 100% 도착을 보장 X
    - 상위 계층에서 패킷 분실 오류 복구
- 인터넷 환경 예시
    - IP : 네트워크 계층의 기능 지원하는 비연결형 프로토콜
    - UDP : 전송 계층 기능을 지원하는 비연결형 프로토콜

## 1.2. 연결형 서비스
- 상대적으로 신뢰성 높음
- TCP : 전송 계층의 기능을 지원하는 연결형 프로토콜

## 1.3. 라우팅
- 패킷의 전송경로를 지정
- 전송 경로 결정시 고려 사항
    - 공평 원칙 : 다른 패킷의 우선 처리를 위해 다른 패킷 손해 X
    - 효율 원칙 : 전체 네트워크 효율성에 대해 고려

- 정적 / 동적 라우팅
    - 정적 라우팅
        - 패킷 전송이 이뤄지기전에 경로 정보를 라우터가 미리 저장하여 중개
        - 단점 : 경로 정보 갱신이 어려워 네트워크 변화/네트워크 혼잡도 대처 부족
    - 동적 라우팅
        - 라우터의 경보 정보가 네트워크 상황에 따라 적절히 조절\
        - 단점 : 경로 정보의 수집과 관리로 인한 성능 저하

- Hello/echo Packet
    - Hello : 주변 라우터에 HELLO Packet 전송 -> 주변 경로 파악
    - ECHO : 라우터 사이의 전송 지연 시간 측정 용도

# 2. 라우팅 프로토콜
- 라우팅 테이블
    - 패킷 전송 과정에서 라우터들이 경로를 쉽게 찾도록 하는 기본 도구
    - 필수 정보 : 목적지 호스트, 다음 홉
        -> 목적지 호스트 : 패킷의 최종 목적지가 되는 호스트 주소
        -> 다음 홉 : 목적지 호스트까지 패킷을 전달하기 위한 인접 경로

- 라우팅 정보의 처리
    - 소스 라우팅
        - 패킷을 전송하는 호스트가 목적지 호스트까지 전달 경로 스스로 결정하는 방식
        - 경로 정보를 전송 패킷에 기록
        - 데이터그램과 가상회선방식 모두 이용
    - 분산 라우팅
        - 라우팅 정보가 분산되는 방식, 패킷 전송 경로에 위치한 각 라우터가 경로선택에 참여
        - 네트워크에 존재하는 호스트수가 많아질수록 효과적
    - 중앙 라우팅
        - RCC라는 특별 호스트를 사용해 전송 경로에 관한 모든 정보 관리
        - RCC로부터 목적지 호스트까지 도착하기 위한 경로 정보 획득
        - 장점 : 경로 정보를 특정 호스트가 관리하기 때문에 경로 정보 관리 부담 감소
        - 단점 : RCC에 트래픽 집중시 전체 효율 떨어짐
    - 계층 라우팅
        - 분산 라우팅 기능과 중앙 라우팅 기능을 적절히 조합
        - 네트워크 규모가 커지는 환경

## 2.1. 혼잡제어
- 혼잡 : 네트워크 성능 감소 현상이 급격하게 악화되는 현상
- 혼잡 제어 : 혼잡 문제를 해결하기 위한 방안
    - 흐름 제어 : 송신, 수신 호스트 사이의 논리 점대점 전송 속도를 다룸
    - 혼잡 제어 : 서브넷에서 네트워크 전송 능력 문제를 다룸

- 혼잡의 원인
    - 초기 혼잡 과정에서 타임 아웃 시간이 작으면 혼잡도가 급격히 증가
    - 패킷 도착 순서가 다른 상황에서 패킷 분실하면 타임아웃 증가
    - 의도적으로 피기배킹을 사용시 응답 시간이 느려져 타임아웃 증가
    - 패킷 생존시간을 작게하면 패킷이 강제로 제거되어 타임아웃 증가

* Time-out : 송신자가 데이터 전송후 특정 시간안에 수신자로부터 응답을 받지 못했을때 발생
* Piggybacking : 피기배킹은 양방향 통신에서 ACK 메시지를 최적화하는 방법입니다. 송수신 양측이 데이터를 주고받을 때, 단순히 ACK를 별도로 보내기보다는, 보내는 데이터 패킷에 ACK 정보를 함께 실어 보내는 것을 말합니다.

* 수신자가 보낼 데이터가 없을 경우 ACK를 지연시켜 보낼 수 있기 때문에, 피기배킹을 사용하면 ACK 전송이 늦어질 수 있습니다.

## 2.2. 트래픽 성형
- 혼잡은 트래픽이 특정 시간에 집중되는 버스트 현상이 원인
- 트래픽 성형 : 송신 호스트가 전송하는 패킷의 발생빈도가 네트워크에서 예측할 수 있는 전송률
- 리키 버킷 알고리즘

## 2.3. 혼잡 제거
- 특정 지역의 혼잡이 다른 지역으로 확대되지 않도록 하는 것이 중요
- 혼잡 제거를 위해 호스트와 서브넷이 가상회선연결 과정에서 협상

## 2.4. 혼잡 제거(자원 예약 방식)
- 네트워크에서 수용 불가능한 정도로 트래픽이 발생하는 일을 사전에 예방
- 단점 : 전송 대역을 해당 사용자가 이용하지 않도록 다른 사용자가 이용하지 못함

- ECN(Explicit Congestion Notification Packet)
    - Router는 트래픽의 양을 모니터해 출력 선로의 사용정도가 한계치를 초과하면 주의 표시
    - 주의 표시한 방향의 경로는 혼잡이 발생할 가능성이 높기 때문에 특별 관리
<center>
<img src="https://github.com/user-attachments/assets/10f817fd-21f2-4b4a-97da-4fc7ff7891ab" width="720" height=""/>
<p><b>[그림3]. DeviceID로 DB조회하기(GET 사용) </b></p>
</center>

